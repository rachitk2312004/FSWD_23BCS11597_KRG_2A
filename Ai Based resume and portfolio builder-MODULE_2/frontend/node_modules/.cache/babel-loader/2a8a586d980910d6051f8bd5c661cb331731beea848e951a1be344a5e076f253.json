{"ast":null,"code":"import React,{useState}from'react';import{Wand2,Sparkles,Brain,FileUp}from'lucide-react';import{aiAPI,ocrAPI}from'../services/api';import toast from'react-hot-toast';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function AIBar(_ref){let{resumeData,onApplyAI}=_ref;const[loading,setLoading]=useState(false);const callAI=async type=>{try{setLoading(true);const payload={prompt:JSON.stringify(resumeData).slice(0,6000)};let res;if(type==='summary')res=await aiAPI.summary(payload);if(type==='skills')res=await aiAPI.skills(payload);if(type==='ats')res=await aiAPI.atsOptimize(payload);onApplyAI(type,res.data);toast.success('AI suggestion ready');}catch(e){console.error(e);toast.error('AI request failed');}finally{setLoading(false);}};const handleOCR=async e=>{var _e$target$files;const file=(_e$target$files=e.target.files)===null||_e$target$files===void 0?void 0:_e$target$files[0];if(!file)return;try{setLoading(true);const res=await ocrAPI.parseJD(file);onApplyAI('ocr',res.data);toast.success('JD parsed');}catch(e){console.error(e);toast.error('OCR failed');}finally{setLoading(false);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900 mb-4\",children:\"AI Assistant\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 sm:grid-cols-2 gap-3\",children:[/*#__PURE__*/_jsxs(\"button\",{disabled:loading,onClick:()=>callAI('summary'),className:\"btn-secondary disabled:opacity-50\",children:[/*#__PURE__*/_jsx(Wand2,{className:\"w-4 h-4 mr-2\"}),\" Generate Summary\"]}),/*#__PURE__*/_jsxs(\"button\",{disabled:loading,onClick:()=>callAI('skills'),className:\"btn-secondary disabled:opacity-50\",children:[/*#__PURE__*/_jsx(Sparkles,{className:\"w-4 h-4 mr-2\"}),\" Suggest Skills (ATS)\"]}),/*#__PURE__*/_jsxs(\"button\",{disabled:loading,onClick:()=>callAI('ats'),className:\"btn-secondary disabled:opacity-50\",children:[/*#__PURE__*/_jsx(Brain,{className:\"w-4 h-4 mr-2\"}),\" Improve for ATS\"]}),/*#__PURE__*/_jsxs(\"label\",{className:\"btn-secondary cursor-pointer\",children:[/*#__PURE__*/_jsx(FileUp,{className:\"w-4 h-4 mr-2\"}),\" Upload JD (OCR)\",/*#__PURE__*/_jsx(\"input\",{type:\"file\",accept:\"image/*\",className:\"hidden\",onChange:handleOCR})]})]})]});}","map":{"version":3,"names":["React","useState","Wand2","Sparkles","Brain","FileUp","aiAPI","ocrAPI","toast","jsx","_jsx","jsxs","_jsxs","AIBar","_ref","resumeData","onApplyAI","loading","setLoading","callAI","type","payload","prompt","JSON","stringify","slice","res","summary","skills","atsOptimize","data","success","e","console","error","handleOCR","_e$target$files","file","target","files","parseJD","className","children","disabled","onClick","accept","onChange"],"sources":["/Users/rachitkumar/Documents/Ai Based resume and portfolio builder/frontend/src/components/AIBar.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { Wand2, Sparkles, Brain, FileUp } from 'lucide-react';\nimport { aiAPI, ocrAPI } from '../services/api';\nimport toast from 'react-hot-toast';\n\nexport default function AIBar({ resumeData, onApplyAI }) {\n  const [loading, setLoading] = useState(false);\n\n  const callAI = async (type) => {\n    try {\n      setLoading(true);\n      const payload = { prompt: JSON.stringify(resumeData).slice(0, 6000) };\n      let res;\n      if (type === 'summary') res = await aiAPI.summary(payload);\n      if (type === 'skills') res = await aiAPI.skills(payload);\n      if (type === 'ats') res = await aiAPI.atsOptimize(payload);\n      onApplyAI(type, res.data);\n      toast.success('AI suggestion ready');\n    } catch (e) {\n      console.error(e);\n      toast.error('AI request failed');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleOCR = async (e) => {\n    const file = e.target.files?.[0];\n    if (!file) return;\n    try {\n      setLoading(true);\n      const res = await ocrAPI.parseJD(file);\n      onApplyAI('ocr', res.data);\n      toast.success('JD parsed');\n    } catch (e) {\n      console.error(e);\n      toast.error('OCR failed');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"card\">\n      <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">AI Assistant</h3>\n      <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-3\">\n        <button disabled={loading} onClick={() => callAI('summary')} className=\"btn-secondary disabled:opacity-50\">\n          <Wand2 className=\"w-4 h-4 mr-2\" /> Generate Summary\n        </button>\n        <button disabled={loading} onClick={() => callAI('skills')} className=\"btn-secondary disabled:opacity-50\">\n          <Sparkles className=\"w-4 h-4 mr-2\" /> Suggest Skills (ATS)\n        </button>\n        <button disabled={loading} onClick={() => callAI('ats')} className=\"btn-secondary disabled:opacity-50\">\n          <Brain className=\"w-4 h-4 mr-2\" /> Improve for ATS\n        </button>\n        <label className=\"btn-secondary cursor-pointer\">\n          <FileUp className=\"w-4 h-4 mr-2\" /> Upload JD (OCR)\n          <input type=\"file\" accept=\"image/*\" className=\"hidden\" onChange={handleOCR} />\n        </label>\n      </div>\n    </div>\n  );\n}\n\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}