{"ast":null,"code":"import _objectSpread from\"/Users/rachitkumar/Documents/Ai Based resume and portfolio builder/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import{useParams,useNavigate}from'react-router-dom';import{useAuth}from'../contexts/AuthContext';import{useAutoSave}from'../contexts/AutoSaveContext';import Header from'../components/Header';import Footer from'../components/Footer';import{Save,Eye,Download,Share2,ArrowLeft}from'lucide-react';import{resumeAPI}from'../services/api';import toast from'react-hot-toast';import SectionManager from'../components/SectionManager';import AIBar from'../components/AIBar';import{templates,getDefaultData}from'../components/templates/TemplateRegistry';import{exportAPI}from'../services/api';import{saveAs}from'file-saver';import Modal from'../components/Modal';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ResumeBuilderPage=()=>{const{id}=useParams();const{user}=useAuth();const{saveResume,isSaving}=useAutoSave();const navigate=useNavigate();const[resume,setResume]=useState(null);const[isLoading,setIsLoading]=useState(true);const[formData,setFormData]=useState({title:'',templateId:1,status:'IN_PROGRESS',isPublic:false,data:{name:'',title:'',sections:[]}});const[previewHtml,setPreviewHtml]=useState('');const[versions,setVersions]=useState([]);const[isPreviewOpen,setIsPreviewOpen]=useState(false);const ensurePersonalInformation=data=>{const sections=Array.isArray(data.sections)?data.sections.slice():[];const idx=sections.findIndex(s=>(s.title||'').toLowerCase()==='personal information');if(idx===-1){sections.unshift({id:'personal-information',title:'Personal Information',items:[{name:data.name||'John Doe',title:data.title||'Software Engineer',email:data.email||'john.doe@email.com',phone:data.phone||'+1 555-123-4567',location:data.location||'San Francisco, CA',extras:[]}]});}return _objectSpread(_objectSpread({},data),{},{sections});};useEffect(()=>{if(id){fetchResume();}else{setIsLoading(false);}},[id]);useEffect(()=>{if(resume){let data={};try{data=resume.jsonContent?JSON.parse(resume.jsonContent):{};}catch(_unused){}const hasSections=data.sections&&data.sections.length>0;const nextData=hasSections?{name:data.name||'',title:data.title||'',photoUrl:data.photoUrl,email:data.email,phone:data.phone,location:data.location,sections:data.sections}:getDefaultData(resume.templateId||1);setFormData(prev=>_objectSpread(_objectSpread({},prev),{},{title:resume.title||'',templateId:resume.templateId||1,status:resume.status||'IN_PROGRESS',isPublic:resume.isPublic||false,data:ensurePersonalInformation(nextData)}));}},[resume]);// Auto-save functionality\nuseEffect(()=>{if(id){const timeoutId=setTimeout(()=>{const payload={title:formData.title,jsonContent:JSON.stringify(formData.data),status:formData.status,isPublic:formData.isPublic};saveResume(id,payload);},2000);// Auto-save after 2 seconds of inactivity\nreturn()=>clearTimeout(timeoutId);}},[formData,id,saveResume]);const fetchResume=async()=>{try{const response=await resumeAPI.getResume(id);setResume(response.data);}catch(error){console.error('Error fetching resume:',error);toast.error('Failed to load resume');navigate('/dashboard');}finally{setIsLoading(false);}};const handleInputChange=e=>{const{name,value,type,checked}=e.target;setFormData(prev=>_objectSpread(_objectSpread({},prev),{},{[name]:type==='checkbox'?checked:value}));};const handleSave=async()=>{try{if(id){const payload={title:formData.title,templateId:formData.templateId,jsonContent:JSON.stringify(formData.data),status:formData.status,isPublic:formData.isPublic};await resumeAPI.updateResume(id,payload);toast.success('Resume saved successfully');}else{const response=await resumeAPI.createResume({title:formData.title});navigate(\"/resume-builder/\".concat(response.data.id));toast.success('Resume created successfully');}}catch(error){console.error('Error saving resume:',error);toast.error('Failed to save resume');}};const updatePreview=()=>{var _templates$formData$t;const html=((_templates$formData$t=templates[formData.templateId])===null||_templates$formData$t===void 0?void 0:_templates$formData$t.render(formData.data))||'';setPreviewHtml(html);};useEffect(()=>{updatePreview();},[formData]);const handlePreview=()=>{setIsPreviewOpen(true);};const handleDownload=async()=>{if(!id){toast.error('Save resume first');return;}try{const pdfRes=await exportAPI.pdf(id,previewHtml);saveAs(new Blob([pdfRes.data],{type:'application/pdf'}),\"resume-\".concat(id,\".pdf\"));const docxRes=await exportAPI.docx(id,previewHtml);saveAs(new Blob([docxRes.data],{type:'application/vnd.openxmlformats-officedocument.wordprocessingml.document'}),\"resume-\".concat(id,\".docx\"));}catch(e){console.error(e);toast.error('Export failed');}};const handleShare=()=>{if(resume!==null&&resume!==void 0&&resume.publicLink){navigator.clipboard.writeText(\"\".concat(window.location.origin,\"/resume/\").concat(resume.publicLink));toast.success('Share link copied to clipboard');}else{toast.error('Please make the resume public first');}};if(isLoading){return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen bg-gray-50\",children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center min-h-screen\",children:/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-32 w-32 border-b-2 border-primary-600\"})}),/*#__PURE__*/_jsx(Footer,{})]});}return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen bg-gray-50\",children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate('/dashboard'),className:\"text-gray-400 hover:text-gray-600\",children:/*#__PURE__*/_jsx(ArrowLeft,{className:\"w-6 h-6\"})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl font-bold text-gray-900\",children:\"Resume Builder\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:isSaving?'Auto-saving...':'Build your professional resume'})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:handleSave,className:\"btn-secondary\",children:[/*#__PURE__*/_jsx(Save,{className:\"w-4 h-4 mr-2\"}),\"Save\"]}),/*#__PURE__*/_jsxs(\"button\",{onClick:handlePreview,className:\"btn-secondary\",children:[/*#__PURE__*/_jsx(Eye,{className:\"w-4 h-4 mr-2\"}),\"Preview\"]}),/*#__PURE__*/_jsxs(\"button\",{onClick:handleDownload,className:\"btn-secondary\",children:[/*#__PURE__*/_jsx(Download,{className:\"w-4 h-4 mr-2\"}),\"Download\"]}),/*#__PURE__*/_jsxs(\"button\",{onClick:handleShare,className:\"btn-primary\",children:[/*#__PURE__*/_jsx(Share2,{className:\"w-4 h-4 mr-2\"}),\"Share\"]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 lg:grid-cols-3 gap-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"lg:col-span-1\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-lg font-semibold text-gray-900 mb-6\",children:\"Resume Details\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Resume Title\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:formData.title,onChange:e=>setFormData(prev=>_objectSpread(_objectSpread({},prev),{},{title:e.target.value})),className:\"input-field\",placeholder:\"Enter resume title\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Template\"}),/*#__PURE__*/_jsx(\"select\",{className:\"input-field\",value:formData.templateId,onChange:e=>setFormData(prev=>_objectSpread(_objectSpread({},prev),{},{templateId:Number(e.target.value),data:getDefaultData(Number(e.target.value))})),children:Object.entries(templates).map(_ref=>{let[id,t]=_ref;return/*#__PURE__*/_jsx(\"option\",{value:Number(id),children:t.name},id);})})]}),/*#__PURE__*/_jsx(SectionManager,{sections:formData.data.sections,setSections:sections=>setFormData(prev=>_objectSpread(_objectSpread({},prev),{},{data:_objectSpread(_objectSpread({},prev.data),{},{sections})}))}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:formData.isPublic,onChange:e=>setFormData(prev=>_objectSpread(_objectSpread({},prev),{},{isPublic:e.target.checked})),className:\"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded\"}),/*#__PURE__*/_jsx(\"label\",{className:\"ml-2 text-sm text-gray-700\",children:\"Make this resume public\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:formData.status==='COMPLETED',onChange:e=>setFormData(prev=>_objectSpread(_objectSpread({},prev),{},{status:e.target.checked?'COMPLETED':'IN_PROGRESS'})),className:\"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded\"}),/*#__PURE__*/_jsx(\"label\",{className:\"ml-2 text-sm text-gray-700\",children:\"Mark as completed\"})]})]})]})]}),/*#__PURE__*/_jsx(AIBar,{resumeData:formData.data,onApplyAI:(type,res)=>{if(type==='summary'){const summary=res.summary||res;const exists=formData.data.sections.find(s=>s.title.toLowerCase()==='summary');const sections=exists?formData.data.sections.map(s=>s.title.toLowerCase()==='summary'?_objectSpread(_objectSpread({},s),{},{items:[summary]}):s):[{id:'summary',title:'Summary',items:[summary]},...formData.data.sections];setFormData(prev=>_objectSpread(_objectSpread({},prev),{},{data:_objectSpread(_objectSpread({},prev.data),{},{sections})}));}if(type==='skills'){const skills=res.skills||res;const sections=formData.data.sections.map(s=>s.title.toLowerCase()==='skills'?_objectSpread(_objectSpread({},s),{},{items:[skills]}):s);setFormData(prev=>_objectSpread(_objectSpread({},prev),{},{data:_objectSpread(_objectSpread({},prev.data),{},{sections})}));}if(type==='ats'){// naive append optimized text\nconst sections=formData.data.sections.map(s=>_objectSpread(_objectSpread({},s),{},{items:[...(s.items||[]),res.optimized||res]}));setFormData(prev=>_objectSpread(_objectSpread({},prev),{},{data:_objectSpread(_objectSpread({},prev.data),{},{sections})}));}if(type==='ocr'){const text=res.parsedText;const sections=[{id:'job',title:'Job Description',items:[text]},...formData.data.sections];setFormData(prev=>_objectSpread(_objectSpread({},prev),{},{data:_objectSpread(_objectSpread({},prev.data),{},{sections})}));}}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"lg:col-span-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900 mb-4\",children:\"Preview\"}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white border border-gray-200 rounded-lg p-6 min-h-96\",children:/*#__PURE__*/_jsx(\"iframe\",{title:\"preview\",className:\"w-full h-[1000px]\",srcDoc:previewHtml})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"card mt-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900 mb-4\",children:\"Version History\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn-secondary\",onClick:async()=>{await resumeAPI.saveVersion(id);toast.success('Snapshot saved');},children:\"Save Snapshot\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn-secondary\",onClick:async()=>{const res=await resumeAPI.listVersions(id);setVersions(res.data);},children:\"Refresh List\"})]}),/*#__PURE__*/_jsx(\"ul\",{className:\"mt-4 space-y-2\",children:versions.map(v=>/*#__PURE__*/_jsxs(\"li\",{className:\"flex items-center justify-between bg-white rounded border px-3 py-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-700\",children:new Date(v.createdAt).toLocaleString()}),/*#__PURE__*/_jsx(\"button\",{className:\"btn-secondary\",onClick:async()=>{await resumeAPI.restoreVersion(id,v.id);toast.success('Restored');},children:\"Restore\"})]},v.id))})]})]})]})]}),/*#__PURE__*/_jsx(Footer,{}),/*#__PURE__*/_jsx(Modal,{open:isPreviewOpen,onClose:()=>setIsPreviewOpen(false),title:\"Resume Preview\",fullscreen:true,children:/*#__PURE__*/_jsx(\"div\",{className:\"h-[calc(100vh-120px)] overflow-y-auto\",children:/*#__PURE__*/_jsx(\"iframe\",{title:\"preview-modal\",className:\"w-full h-full min-h-[800px]\",srcDoc:previewHtml})})})]});};export default ResumeBuilderPage;","map":{"version":3,"names":["React","useState","useEffect","useParams","useNavigate","useAuth","useAutoSave","Header","Footer","Save","Eye","Download","Share2","ArrowLeft","resumeAPI","toast","SectionManager","AIBar","templates","getDefaultData","exportAPI","saveAs","Modal","jsx","_jsx","jsxs","_jsxs","ResumeBuilderPage","id","user","saveResume","isSaving","navigate","resume","setResume","isLoading","setIsLoading","formData","setFormData","title","templateId","status","isPublic","data","name","sections","previewHtml","setPreviewHtml","versions","setVersions","isPreviewOpen","setIsPreviewOpen","ensurePersonalInformation","Array","isArray","slice","idx","findIndex","s","toLowerCase","unshift","items","email","phone","location","extras","_objectSpread","fetchResume","jsonContent","JSON","parse","_unused","hasSections","length","nextData","photoUrl","prev","timeoutId","setTimeout","payload","stringify","clearTimeout","response","getResume","error","console","handleInputChange","e","value","type","checked","target","handleSave","updateResume","success","createResume","concat","updatePreview","_templates$formData$t","html","render","handlePreview","handleDownload","pdfRes","pdf","Blob","docxRes","docx","handleShare","publicLink","navigator","clipboard","writeText","window","origin","className","children","onClick","onChange","placeholder","Number","Object","entries","map","_ref","t","setSections","resumeData","onApplyAI","res","summary","exists","find","skills","optimized","text","parsedText","srcDoc","saveVersion","listVersions","v","Date","createdAt","toLocaleString","restoreVersion","open","onClose","fullscreen"],"sources":["/Users/rachitkumar/Documents/Ai Based resume and portfolio builder/frontend/src/pages/ResumeBuilderPage.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport { useAuth } from '../contexts/AuthContext';\nimport { useAutoSave } from '../contexts/AutoSaveContext';\nimport Header from '../components/Header';\nimport Footer from '../components/Footer';\nimport { Save, Eye, Download, Share2, ArrowLeft } from 'lucide-react';\nimport { resumeAPI } from '../services/api';\nimport toast from 'react-hot-toast';\nimport SectionManager from '../components/SectionManager';\nimport AIBar from '../components/AIBar';\nimport { templates, getDefaultData } from '../components/templates/TemplateRegistry';\nimport { exportAPI } from '../services/api';\nimport { saveAs } from 'file-saver';\nimport Modal from '../components/Modal';\n\nconst ResumeBuilderPage = () => {\n  const { id } = useParams();\n  const { user } = useAuth();\n  const { saveResume, isSaving } = useAutoSave();\n  const navigate = useNavigate();\n  const [resume, setResume] = useState(null);\n  const [isLoading, setIsLoading] = useState(true);\n  const [formData, setFormData] = useState({\n    title: '',\n    templateId: 1,\n    status: 'IN_PROGRESS',\n    isPublic: false,\n    data: { name: '', title: '', sections: [] }\n  });\n  const [previewHtml, setPreviewHtml] = useState('');\n  const [versions, setVersions] = useState([]);\n  const [isPreviewOpen, setIsPreviewOpen] = useState(false);\n\n  const ensurePersonalInformation = (data) => {\n    const sections = Array.isArray(data.sections) ? data.sections.slice() : [];\n    const idx = sections.findIndex(s => (s.title || '').toLowerCase() === 'personal information');\n    if (idx === -1) {\n      sections.unshift({\n        id: 'personal-information',\n        title: 'Personal Information',\n        items: [{\n          name: data.name || 'John Doe',\n          title: data.title || 'Software Engineer',\n          email: data.email || 'john.doe@email.com',\n          phone: data.phone || '+1 555-123-4567',\n          location: data.location || 'San Francisco, CA',\n          extras: []\n        }]\n      });\n    }\n    return { ...data, sections };\n  };\n\n  useEffect(() => {\n    if (id) {\n      fetchResume();\n    } else {\n      setIsLoading(false);\n    }\n  }, [id]);\n\n  useEffect(() => {\n    if (resume) {\n      let data = {};\n      try { data = resume.jsonContent ? JSON.parse(resume.jsonContent) : {}; } catch {}\n      const hasSections = data.sections && data.sections.length > 0;\n      const nextData = hasSections ? { name: data.name || '', title: data.title || '', photoUrl: data.photoUrl, email: data.email, phone: data.phone, location: data.location, sections: data.sections }\n                                   : getDefaultData(resume.templateId || 1);\n      setFormData(prev => ({\n        ...prev,\n        title: resume.title || '',\n        templateId: resume.templateId || 1,\n        status: resume.status || 'IN_PROGRESS',\n        isPublic: resume.isPublic || false,\n        data: ensurePersonalInformation(nextData)\n      }));\n    }\n  }, [resume]);\n\n  // Auto-save functionality\n  useEffect(() => {\n    if (id) {\n      const timeoutId = setTimeout(() => {\n        const payload = {\n          title: formData.title,\n          jsonContent: JSON.stringify(formData.data),\n          status: formData.status,\n          isPublic: formData.isPublic,\n        };\n        saveResume(id, payload);\n      }, 2000); // Auto-save after 2 seconds of inactivity\n\n      return () => clearTimeout(timeoutId);\n    }\n  }, [formData, id, saveResume]);\n\n  const fetchResume = async () => {\n    try {\n      const response = await resumeAPI.getResume(id);\n      setResume(response.data);\n    } catch (error) {\n      console.error('Error fetching resume:', error);\n      toast.error('Failed to load resume');\n      navigate('/dashboard');\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const handleInputChange = (e) => {\n    const { name, value, type, checked } = e.target;\n    setFormData(prev => ({\n      ...prev,\n      [name]: type === 'checkbox' ? checked : value\n    }));\n  };\n\n  const handleSave = async () => {\n    try {\n      if (id) {\n        const payload = {\n          title: formData.title,\n          templateId: formData.templateId,\n          jsonContent: JSON.stringify(formData.data),\n          status: formData.status,\n          isPublic: formData.isPublic,\n        };\n        await resumeAPI.updateResume(id, payload);\n        toast.success('Resume saved successfully');\n      } else {\n        const response = await resumeAPI.createResume({ title: formData.title });\n        navigate(`/resume-builder/${response.data.id}`);\n        toast.success('Resume created successfully');\n      }\n    } catch (error) {\n      console.error('Error saving resume:', error);\n      toast.error('Failed to save resume');\n    }\n  };\n\n  const updatePreview = () => {\n    const html = templates[formData.templateId]?.render(formData.data) || '';\n    setPreviewHtml(html);\n  };\n\n  useEffect(() => { updatePreview(); }, [formData]);\n\n  const handlePreview = () => {\n    setIsPreviewOpen(true);\n  };\n\n  const handleDownload = async () => {\n    if (!id) { toast.error('Save resume first'); return; }\n    try {\n      const pdfRes = await exportAPI.pdf(id, previewHtml);\n      saveAs(new Blob([pdfRes.data], { type: 'application/pdf' }), `resume-${id}.pdf`);\n      const docxRes = await exportAPI.docx(id, previewHtml);\n      saveAs(new Blob([docxRes.data], { type: 'application/vnd.openxmlformats-officedocument.wordprocessingml.document' }), `resume-${id}.docx`);\n    } catch (e) {\n      console.error(e);\n      toast.error('Export failed');\n    }\n  };\n\n  const handleShare = () => {\n    if (resume?.publicLink) {\n      navigator.clipboard.writeText(`${window.location.origin}/resume/${resume.publicLink}`);\n      toast.success('Share link copied to clipboard');\n    } else {\n      toast.error('Please make the resume public first');\n    }\n  };\n\n  if (isLoading) {\n    return (\n      <div className=\"min-h-screen bg-gray-50\">\n        <Header />\n        <div className=\"flex items-center justify-center min-h-screen\">\n          <div className=\"animate-spin rounded-full h-32 w-32 border-b-2 border-primary-600\"></div>\n        </div>\n        <Footer />\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gray-50\">\n      <Header />\n      \n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\n        {/* Header */}\n        <div className=\"flex items-center justify-between mb-8\">\n          <div className=\"flex items-center space-x-4\">\n            <button\n              onClick={() => navigate('/dashboard')}\n              className=\"text-gray-400 hover:text-gray-600\"\n            >\n              <ArrowLeft className=\"w-6 h-6\" />\n            </button>\n            <div>\n              <h1 className=\"text-2xl font-bold text-gray-900\">Resume Builder</h1>\n              <p className=\"text-gray-600\">\n                {isSaving ? 'Auto-saving...' : 'Build your professional resume'}\n              </p>\n            </div>\n          </div>\n          \n          <div className=\"flex items-center space-x-3\">\n            <button\n              onClick={handleSave}\n              className=\"btn-secondary\"\n            >\n              <Save className=\"w-4 h-4 mr-2\" />\n              Save\n            </button>\n            <button\n              onClick={handlePreview}\n              className=\"btn-secondary\"\n            >\n              <Eye className=\"w-4 h-4 mr-2\" />\n              Preview\n            </button>\n            <button\n              onClick={handleDownload}\n              className=\"btn-secondary\"\n            >\n              <Download className=\"w-4 h-4 mr-2\" />\n              Download\n            </button>\n            <button\n              onClick={handleShare}\n              className=\"btn-primary\"\n            >\n              <Share2 className=\"w-4 h-4 mr-2\" />\n              Share\n            </button>\n          </div>\n        </div>\n\n        <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-8\">\n          {/* Form */}\n          <div className=\"lg:col-span-1\">\n            <div className=\"card\">\n              <h2 className=\"text-lg font-semibold text-gray-900 mb-6\">Resume Details</h2>\n              \n              <div className=\"space-y-6\">\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                    Resume Title\n                  </label>\n                  <input\n                    type=\"text\"\n                    value={formData.title}\n                    onChange={(e) => setFormData(prev => ({ ...prev, title: e.target.value }))}\n                    className=\"input-field\"\n                    placeholder=\"Enter resume title\"\n                  />\n                </div>\n\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">Template</label>\n                  <select\n                    className=\"input-field\"\n                    value={formData.templateId}\n                    onChange={(e) => setFormData(prev => ({ ...prev, templateId: Number(e.target.value), data: getDefaultData(Number(e.target.value)) }))}\n                  >\n                    {Object.entries(templates).map(([id, t]) => (\n                      <option key={id} value={Number(id)}>{t.name}</option>\n                    ))}\n                  </select>\n                </div>\n\n                <SectionManager\n                  sections={formData.data.sections}\n                  setSections={(sections) => setFormData(prev => ({ ...prev, data: { ...prev.data, sections } }))}\n                />\n\n                <div className=\"flex items-center space-x-6\">\n                  <div className=\"flex items-center\">\n                    <input\n                      type=\"checkbox\"\n                      checked={formData.isPublic}\n                      onChange={(e) => setFormData(prev => ({ ...prev, isPublic: e.target.checked }))}\n                      className=\"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded\"\n                    />\n                    <label className=\"ml-2 text-sm text-gray-700\">\n                      Make this resume public\n                    </label>\n                  </div>\n                  \n                  <div className=\"flex items-center\">\n                    <input\n                      type=\"checkbox\"\n                      checked={formData.status === 'COMPLETED'}\n                      onChange={(e) => setFormData(prev => ({\n                        ...prev,\n                        status: e.target.checked ? 'COMPLETED' : 'IN_PROGRESS'\n                      }))}\n                      className=\"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded\"\n                    />\n                    <label className=\"ml-2 text-sm text-gray-700\">\n                      Mark as completed\n                    </label>\n                  </div>\n                </div>\n              </div>\n            </div>\n\n            <AIBar\n              resumeData={formData.data}\n              onApplyAI={(type, res) => {\n                if (type === 'summary') {\n                  const summary = res.summary || res;\n                  const exists = formData.data.sections.find(s => s.title.toLowerCase() === 'summary');\n                  const sections = exists ? formData.data.sections.map(s => s.title.toLowerCase() === 'summary' ? { ...s, items: [summary] } : s)\n                                          : [{ id: 'summary', title: 'Summary', items: [summary] }, ...formData.data.sections];\n                  setFormData(prev => ({ ...prev, data: { ...prev.data, sections } }));\n                }\n                if (type === 'skills') {\n                  const skills = res.skills || res;\n                  const sections = formData.data.sections.map(s => s.title.toLowerCase() === 'skills' ? { ...s, items: [skills] } : s);\n                  setFormData(prev => ({ ...prev, data: { ...prev.data, sections } }));\n                }\n                if (type === 'ats') {\n                  // naive append optimized text\n                  const sections = formData.data.sections.map(s => ({ ...s, items: [...(s.items||[]), res.optimized || res] }));\n                  setFormData(prev => ({ ...prev, data: { ...prev.data, sections } }));\n                }\n                if (type === 'ocr') {\n                  const text = res.parsedText;\n                  const sections = [{ id: 'job', title: 'Job Description', items: [text] }, ...formData.data.sections];\n                  setFormData(prev => ({ ...prev, data: { ...prev.data, sections } }));\n                }\n              }}\n            />\n          </div>\n\n          {/* Preview */}\n          <div className=\"lg:col-span-2\">\n            <div className=\"card\">\n              <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">Preview</h3>\n              \n              <div className=\"bg-white border border-gray-200 rounded-lg p-6 min-h-96\">\n                <iframe title=\"preview\" className=\"w-full h-[1000px]\" srcDoc={previewHtml} />\n              </div>\n            </div>\n\n            {/* Version History */}\n            <div className=\"card mt-6\">\n              <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">Version History</h3>\n              <div className=\"flex items-center gap-2\">\n                <button className=\"btn-secondary\" onClick={async () => { await resumeAPI.saveVersion(id); toast.success('Snapshot saved'); }}>\n                  Save Snapshot\n                </button>\n                <button className=\"btn-secondary\" onClick={async () => { const res = await resumeAPI.listVersions(id); setVersions(res.data); }}>\n                  Refresh List\n                </button>\n              </div>\n              <ul className=\"mt-4 space-y-2\">\n                {versions.map(v => (\n                  <li key={v.id} className=\"flex items-center justify-between bg-white rounded border px-3 py-2\">\n                    <span className=\"text-sm text-gray-700\">{new Date(v.createdAt).toLocaleString()}</span>\n                    <button className=\"btn-secondary\" onClick={async () => { await resumeAPI.restoreVersion(id, v.id); toast.success('Restored'); }}>\n                      Restore\n                    </button>\n                  </li>\n                ))}\n              </ul>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <Footer />\n\n      {/* Preview Modal */}\n      <Modal\n        open={isPreviewOpen}\n        onClose={() => setIsPreviewOpen(false)}\n        title=\"Resume Preview\"\n        fullscreen\n      >\n        <div className=\"h-[calc(100vh-120px)] overflow-y-auto\">\n          <iframe title=\"preview-modal\" className=\"w-full h-full min-h-[800px]\" srcDoc={previewHtml} />\n        </div>\n      </Modal>\n    </div>\n  );\n};\n\nexport default ResumeBuilderPage;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}